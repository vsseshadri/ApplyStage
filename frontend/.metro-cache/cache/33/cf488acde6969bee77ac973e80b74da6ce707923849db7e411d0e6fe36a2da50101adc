{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"../../../common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":14},"end":{"line":2,"column":50,"index":64}}],"key":"AI/OUAil3Z67B7bUiML5DX0dlDY=","exportNames":["*"],"imports":1}},{"name":"../../utils","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":321},"end":{"line":7,"column":58,"index":379}}],"key":"ByXat9lt9duIJLDmSeH0V+tRq1s=","exportNames":["*"],"imports":1}},{"name":"../proxy","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":380},"end":{"line":8,"column":40,"index":420}}],"key":"7t6p+wFqa3TKNDAU+WlzybERgtk=","exportNames":["*"],"imports":1}},{"name":"../registry","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":421},"end":{"line":9,"column":63,"index":484}}],"key":"+3OEoU3axqFWWFPE7MDTZN/6GXQ=","exportNames":["*"],"imports":1}},{"name":"./CSSAnimationsManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":531},"end":{"line":11,"column":58,"index":589}}],"key":"X2ik9T2ZsWfj6PeeQq7cEYjcYpE=","exportNames":["*"],"imports":1}},{"name":"./CSSTransitionsManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":590},"end":{"line":12,"column":60,"index":650}}],"key":"phIeZpg1RoTOiEN4jyxPHJoIHaw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return CSSManager;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[2], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _common = require(_dependencyMap[3], \"../../../common\");\n  var _utils = require(_dependencyMap[4], \"../../utils\");\n  var _proxy = require(_dependencyMap[5], \"../proxy\");\n  var _registry = require(_dependencyMap[6], \"../registry\");\n  var _CSSAnimationsManager = require(_dependencyMap[7], \"./CSSAnimationsManager\");\n  var CSSAnimationsManager = _interopDefault(_CSSAnimationsManager);\n  var _CSSTransitionsManager = require(_dependencyMap[8], \"./CSSTransitionsManager\");\n  var CSSTransitionsManager = _interopDefault(_CSSTransitionsManager);\n  var CSSManager = /*#__PURE__*/function () {\n    function CSSManager(_ref) {\n      var shadowNodeWrapper = _ref.shadowNodeWrapper,\n        viewTag = _ref.viewTag,\n        _ref$viewName = _ref.viewName,\n        viewName = _ref$viewName === void 0 ? 'RCTView' : _ref$viewName;\n      (0, _classCallCheck.default)(this, CSSManager);\n      this.styleBuilder = null;\n      this.isFirstUpdate = true;\n      var tag = this.viewTag = viewTag;\n      var wrapper = shadowNodeWrapper;\n      this.viewName = viewName;\n      this.styleBuilder = (0, _registry.hasStyleBuilder)(viewName) ? (0, _registry.getStyleBuilder)(viewName) : null;\n      this.cssAnimationsManager = new CSSAnimationsManager.default(wrapper, viewName, tag);\n      this.cssTransitionsManager = new CSSTransitionsManager.default(wrapper, tag);\n    }\n    return (0, _createClass.default)(CSSManager, [{\n      key: \"update\",\n      value: function update(style) {\n        var _this$styleBuilder;\n        var _filterCSSAndStylePro = (0, _utils.filterCSSAndStyleProperties)(style),\n          _filterCSSAndStylePro2 = (0, _slicedToArray.default)(_filterCSSAndStylePro, 3),\n          animationProperties = _filterCSSAndStylePro2[0],\n          transitionProperties = _filterCSSAndStylePro2[1],\n          filteredStyle = _filterCSSAndStylePro2[2];\n        if (!this.styleBuilder && (animationProperties || transitionProperties)) {\n          throw new _common.ReanimatedError(`Tried to apply CSS animations to ${this.viewName} which is not supported`);\n        }\n        var normalizedStyle = (_this$styleBuilder = this.styleBuilder) == null ? void 0 : _this$styleBuilder.buildFrom(filteredStyle);\n\n        // If the update is called during the first css style update, we won't\n        // trigger CSS transitions and set styles before attaching CSS transitions\n        if (this.isFirstUpdate && normalizedStyle) {\n          (0, _proxy.setViewStyle)(this.viewTag, normalizedStyle);\n        }\n        this.cssTransitionsManager.update(transitionProperties);\n        this.cssAnimationsManager.update(animationProperties);\n\n        // If the current update is not the fist one, we want to update CSS\n        // animations and transitions first and update the style then to make\n        // sure that the new transition is fired with new settings (like duration)\n        if (!this.isFirstUpdate && normalizedStyle) {\n          (0, _proxy.setViewStyle)(this.viewTag, normalizedStyle);\n        }\n        this.isFirstUpdate = false;\n      }\n    }, {\n      key: \"unmountCleanup\",\n      value: function unmountCleanup() {\n        this.cssAnimationsManager.unmountCleanup();\n        this.cssTransitionsManager.unmountCleanup();\n      }\n    }]);\n  }();\n});","lineCount":86,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopDefault"],[7,27,1,13,"e"],[7,28,1,13],[8,4,1,13],[8,11,1,13,"e"],[8,12,1,13],[8,16,1,13,"e"],[8,17,1,13],[8,18,1,13,"__esModule"],[8,28,1,13],[8,31,1,13,"e"],[8,32,1,13],[9,6,1,13,"default"],[9,13,1,13],[9,15,1,13,"e"],[10,4,1,13],[11,2,1,13],[12,2,1,13,"Object"],[12,8,1,13],[12,9,1,13,"defineProperty"],[12,23,1,13],[12,24,1,13,"exports"],[12,31,1,13],[13,4,1,13,"enumerable"],[13,14,1,13],[14,4,1,13,"get"],[14,7,1,13],[14,18,1,13,"get"],[14,19,1,13],[15,6,1,13],[15,13,14,21,"CSSManager"],[15,23,14,31],[16,4,14,31],[17,2,14,31],[18,2,14,31],[18,6,14,31,"_babelRuntimeHelpersSlicedToArray"],[18,39,14,31],[18,42,14,31,"require"],[18,49,14,31],[18,50,14,31,"_dependencyMap"],[18,64,14,31],[19,2,14,31],[19,6,14,31,"_slicedToArray"],[19,20,14,31],[19,23,14,31,"_interopDefault"],[19,38,14,31],[19,39,14,31,"_babelRuntimeHelpersSlicedToArray"],[19,72,14,31],[20,2,14,31],[20,6,14,31,"_babelRuntimeHelpersClassCallCheck"],[20,40,14,31],[20,43,14,31,"require"],[20,50,14,31],[20,51,14,31,"_dependencyMap"],[20,65,14,31],[21,2,14,31],[21,6,14,31,"_classCallCheck"],[21,21,14,31],[21,24,14,31,"_interopDefault"],[21,39,14,31],[21,40,14,31,"_babelRuntimeHelpersClassCallCheck"],[21,74,14,31],[22,2,14,31],[22,6,14,31,"_babelRuntimeHelpersCreateClass"],[22,37,14,31],[22,40,14,31,"require"],[22,47,14,31],[22,48,14,31,"_dependencyMap"],[22,62,14,31],[23,2,14,31],[23,6,14,31,"_createClass"],[23,18,14,31],[23,21,14,31,"_interopDefault"],[23,36,14,31],[23,37,14,31,"_babelRuntimeHelpersCreateClass"],[23,68,14,31],[24,2,2,0],[24,6,2,0,"_common"],[24,13,2,0],[24,16,2,0,"require"],[24,23,2,0],[24,24,2,0,"_dependencyMap"],[24,38,2,0],[25,2,7,0],[25,6,7,0,"_utils"],[25,12,7,0],[25,15,7,0,"require"],[25,22,7,0],[25,23,7,0,"_dependencyMap"],[25,37,7,0],[26,2,8,0],[26,6,8,0,"_proxy"],[26,12,8,0],[26,15,8,0,"require"],[26,22,8,0],[26,23,8,0,"_dependencyMap"],[26,37,8,0],[27,2,9,0],[27,6,9,0,"_registry"],[27,15,9,0],[27,18,9,0,"require"],[27,25,9,0],[27,26,9,0,"_dependencyMap"],[27,40,9,0],[28,2,11,0],[28,6,11,0,"_CSSAnimationsManager"],[28,27,11,0],[28,30,11,0,"require"],[28,37,11,0],[28,38,11,0,"_dependencyMap"],[28,52,11,0],[29,2,11,0],[29,6,11,0,"CSSAnimationsManager"],[29,26,11,0],[29,29,11,0,"_interopDefault"],[29,44,11,0],[29,45,11,0,"_CSSAnimationsManager"],[29,66,11,0],[30,2,12,0],[30,6,12,0,"_CSSTransitionsManager"],[30,28,12,0],[30,31,12,0,"require"],[30,38,12,0],[30,39,12,0,"_dependencyMap"],[30,53,12,0],[31,2,12,0],[31,6,12,0,"CSSTransitionsManager"],[31,27,12,0],[31,30,12,0,"_interopDefault"],[31,45,12,0],[31,46,12,0,"_CSSTransitionsManager"],[31,68,12,0],[32,2,12,60],[32,6,14,21,"CSSManager"],[32,16,14,31],[33,4,22,2],[33,13,22,2,"CSSManager"],[33,24,22,2,"_ref"],[33,28,22,2],[33,30,22,78],[34,6,22,78],[34,10,22,16,"shadowNodeWrapper"],[34,27,22,33],[34,30,22,33,"_ref"],[34,34,22,33],[34,35,22,16,"shadowNodeWrapper"],[34,52,22,33],[35,8,22,35,"viewTag"],[35,15,22,42],[35,18,22,42,"_ref"],[35,22,22,42],[35,23,22,35,"viewTag"],[35,30,22,42],[36,8,22,42,"_ref$viewName"],[36,21,22,42],[36,24,22,42,"_ref"],[36,28,22,42],[36,29,22,44,"viewName"],[36,37,22,52],[37,8,22,44,"viewName"],[37,16,22,52],[37,19,22,52,"_ref$viewName"],[37,32,22,52],[37,46,22,55],[37,55,22,64],[37,58,22,64,"_ref$viewName"],[37,71,22,64],[38,6,22,64],[38,10,22,64,"_classCallCheck"],[38,25,22,64],[38,26,22,64,"default"],[38,33,22,64],[38,41,22,64,"CSSManager"],[38,51,22,64],[39,6,22,64],[39,11,19,19,"styleBuilder"],[39,23,19,31],[39,26,19,66],[39,30,19,70],[40,6,19,70],[40,11,20,10,"isFirstUpdate"],[40,24,20,23],[40,27,20,35],[40,31,20,39],[41,6,23,4],[41,10,23,10,"tag"],[41,13,23,13],[41,16,23,17],[41,20,23,21],[41,21,23,22,"viewTag"],[41,28,23,29],[41,31,23,32,"viewTag"],[41,38,23,50],[42,6,24,4],[42,10,24,10,"wrapper"],[42,17,24,17],[42,20,24,20,"shadowNodeWrapper"],[42,37,24,58],[43,6,26,4],[43,10,26,8],[43,11,26,9,"viewName"],[43,19,26,17],[43,22,26,20,"viewName"],[43,30,26,28],[44,6,27,4],[44,10,27,8],[44,11,27,9,"styleBuilder"],[44,23,27,21],[44,26,27,24],[44,30,27,24,"hasStyleBuilder"],[44,39,27,39],[44,40,27,39,"hasStyleBuilder"],[44,55,27,39],[44,57,27,40,"viewName"],[44,65,27,48],[44,66,27,49],[44,69,28,8],[44,73,28,8,"getStyleBuilder"],[44,82,28,23],[44,83,28,23,"getStyleBuilder"],[44,98,28,23],[44,100,28,24,"viewName"],[44,108,28,32],[44,109,28,33],[44,112,29,8],[44,116,29,12],[45,6,30,4],[45,10,30,8],[45,11,30,9,"cssAnimationsManager"],[45,31,30,29],[45,34,30,32],[45,38,30,36,"CSSAnimationsManager"],[45,58,30,56],[45,59,30,56,"default"],[45,66,30,56],[45,67,31,6,"wrapper"],[45,74,31,13],[45,76,32,6,"viewName"],[45,84,32,14],[45,86,33,6,"tag"],[45,89,34,4],[45,90,34,5],[46,6,35,4],[46,10,35,8],[46,11,35,9,"cssTransitionsManager"],[46,32,35,30],[46,35,35,33],[46,39,35,37,"CSSTransitionsManager"],[46,60,35,58],[46,61,35,58,"default"],[46,68,35,58],[46,69,35,59,"wrapper"],[46,76,35,66],[46,78,35,68,"tag"],[46,81,35,71],[46,82,35,72],[47,4,36,2],[48,4,36,3],[48,15,36,3,"_createClass"],[48,27,36,3],[48,28,36,3,"default"],[48,35,36,3],[48,37,36,3,"CSSManager"],[48,47,36,3],[49,6,36,3,"key"],[49,9,36,3],[50,6,36,3,"value"],[50,11,36,3],[50,13,38,2],[50,22,38,2,"update"],[50,28,38,8,"update"],[50,29,38,9,"style"],[50,34,38,24],[50,36,38,32],[51,8,38,32],[51,12,38,32,"_this$styleBuilder"],[51,30,38,32],[52,8,39,4],[52,12,39,4,"_filterCSSAndStylePro"],[52,33,39,4],[52,36,40,6],[52,40,40,6,"filterCSSAndStyleProperties"],[52,46,40,33],[52,47,40,33,"filterCSSAndStyleProperties"],[52,74,40,33],[52,76,40,34,"style"],[52,81,40,39],[52,82,40,40],[53,10,40,40,"_filterCSSAndStylePro2"],[53,32,40,40],[53,39,40,40,"_slicedToArray"],[53,53,40,40],[53,54,40,40,"default"],[53,61,40,40],[53,63,40,40,"_filterCSSAndStylePro"],[53,84,40,40],[54,10,39,11,"animationProperties"],[54,29,39,30],[54,32,39,30,"_filterCSSAndStylePro2"],[54,54,39,30],[55,10,39,32,"transitionProperties"],[55,30,39,52],[55,33,39,52,"_filterCSSAndStylePro2"],[55,55,39,52],[56,10,39,54,"filteredStyle"],[56,23,39,67],[56,26,39,67,"_filterCSSAndStylePro2"],[56,48,39,67],[57,8,42,4],[57,12,42,8],[57,13,42,9],[57,17,42,13],[57,18,42,14,"styleBuilder"],[57,30,42,26],[57,35,42,31,"animationProperties"],[57,54,42,50],[57,58,42,54,"transitionProperties"],[57,78,42,74],[57,79,42,75],[57,81,42,77],[58,10,43,6],[58,16,43,12],[58,20,43,16,"ReanimatedError"],[58,27,43,31],[58,28,43,31,"ReanimatedError"],[58,43,43,31],[58,44,44,8],[58,80,44,44],[58,84,44,48],[58,85,44,49,"viewName"],[58,93,44,57],[58,118,45,6],[58,119,45,7],[59,8,46,4],[60,8,48,4],[60,12,48,10,"normalizedStyle"],[60,27,48,25],[60,31,48,25,"_this$styleBuilder"],[60,49,48,25],[60,52,48,28],[60,56,48,32],[60,57,48,33,"styleBuilder"],[60,69,48,45],[60,90,48,28,"_this$styleBuilder"],[60,108,48,28],[60,109,48,47,"buildFrom"],[60,118,48,56],[60,119,48,57,"filteredStyle"],[60,132,48,70],[60,133,48,71],[62,8,50,4],[63,8,51,4],[64,8,52,4],[64,12,52,8],[64,16,52,12],[64,17,52,13,"isFirstUpdate"],[64,30,52,26],[64,34,52,30,"normalizedStyle"],[64,49,52,45],[64,51,52,47],[65,10,53,6],[65,14,53,6,"setViewStyle"],[65,20,53,18],[65,21,53,18,"setViewStyle"],[65,33,53,18],[65,35,53,19],[65,39,53,23],[65,40,53,24,"viewTag"],[65,47,53,31],[65,49,53,33,"normalizedStyle"],[65,64,53,48],[65,65,53,49],[66,8,54,4],[67,8,56,4],[67,12,56,8],[67,13,56,9,"cssTransitionsManager"],[67,34,56,30],[67,35,56,31,"update"],[67,41,56,37],[67,42,56,38,"transitionProperties"],[67,62,56,58],[67,63,56,59],[68,8,57,4],[68,12,57,8],[68,13,57,9,"cssAnimationsManager"],[68,33,57,29],[68,34,57,30,"update"],[68,40,57,36],[68,41,57,37,"animationProperties"],[68,60,57,56],[68,61,57,57],[70,8,59,4],[71,8,60,4],[72,8,61,4],[73,8,62,4],[73,12,62,8],[73,13,62,9],[73,17,62,13],[73,18,62,14,"isFirstUpdate"],[73,31,62,27],[73,35,62,31,"normalizedStyle"],[73,50,62,46],[73,52,62,48],[74,10,63,6],[74,14,63,6,"setViewStyle"],[74,20,63,18],[74,21,63,18,"setViewStyle"],[74,33,63,18],[74,35,63,19],[74,39,63,23],[74,40,63,24,"viewTag"],[74,47,63,31],[74,49,63,33,"normalizedStyle"],[74,64,63,48],[74,65,63,49],[75,8,64,4],[76,8,66,4],[76,12,66,8],[76,13,66,9,"isFirstUpdate"],[76,26,66,22],[76,29,66,25],[76,34,66,30],[77,6,67,2],[78,4,67,3],[79,6,67,3,"key"],[79,9,67,3],[80,6,67,3,"value"],[80,11,67,3],[80,13,69,2],[80,22,69,2,"unmountCleanup"],[80,36,69,16,"unmountCleanup"],[80,37,69,16],[80,39,69,25],[81,8,70,4],[81,12,70,8],[81,13,70,9,"cssAnimationsManager"],[81,33,70,29],[81,34,70,30,"unmountCleanup"],[81,48,70,44],[81,49,70,45],[81,50,70,46],[82,8,71,4],[82,12,71,8],[82,13,71,9,"cssTransitionsManager"],[82,34,71,30],[82,35,71,31,"unmountCleanup"],[82,49,71,45],[82,50,71,46],[82,51,71,47],[83,6,72,2],[84,4,72,3],[85,2,72,3],[86,0,72,3],[86,3]],"functionMap":{"names":["<global>","CSSManager","constructor","update","unmountCleanup"],"mappings":"AAA;eCa;ECQ;GDc;EEE;GF6B;EGE;GHG;CDC"},"hasCjsExports":false},"type":"js/module"}]}