{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"use-latest-callback","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":52,"index":99}}],"key":"2ER/r3Agt+5SFwaFR8HXg24Rpu4=","exportNames":["*"],"imports":1}},{"name":"use-sync-external-store/with-selector","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":89,"index":189}}],"key":"eWOvQ07XtQMBjXiY0qREKFi+uR8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-runtime","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":190},"end":{"line":6,"column":48,"index":238}}],"key":"rKAWVuQOSSDHxC6IWcmkeWszaWg=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useNavigationState = useNavigationState;\n  exports.NavigationStateListenerProvider = NavigationStateListenerProvider;\n  var _react = require(_dependencyMap[0], \"react\");\n  var React = _interopNamespace(_react);\n  var _useLatestCallback = require(_dependencyMap[1], \"use-latest-callback\");\n  var useLatestCallback = _interopDefault(_useLatestCallback);\n  var _useSyncExternalStoreWithSelector = require(_dependencyMap[2], \"use-sync-external-store/with-selector\");\n  var _reactJsxRuntime = require(_dependencyMap[3], \"react/jsx-runtime\");\n  /**\n   * Hook to get a value from the current navigation state using a selector.\n   *\n   * @param selector Selector function to get a value from the state.\n   */\n  function useNavigationState(selector) {\n    var stateListener = React.useContext(NavigationStateListenerContext);\n    if (stateListener == null) {\n      throw new Error(\"Couldn't get the navigation state. Is your component inside a navigator?\");\n    }\n    var value = (0, _useSyncExternalStoreWithSelector.useSyncExternalStoreWithSelector)(stateListener.subscribe,\n    // @ts-expect-error: this is unsafe, but needed to make the generic work\n    stateListener.getState, stateListener.getState, selector);\n    return value;\n  }\n  function NavigationStateListenerProvider(_ref) {\n    var state = _ref.state,\n      children = _ref.children;\n    var listeners = React.useRef([]);\n    var getState = (0, useLatestCallback.default)(function () {\n      return state;\n    });\n    var subscribe = (0, useLatestCallback.default)(function (callback) {\n      listeners.current.push(callback);\n      return function () {\n        listeners.current = listeners.current.filter(function (cb) {\n          return cb !== callback;\n        });\n      };\n    });\n    React.useEffect(function () {\n      listeners.current.forEach(function (callback) {\n        return callback();\n      });\n    }, [state]);\n    var context = React.useMemo(function () {\n      return {\n        getState: getState,\n        subscribe: subscribe\n      };\n    }, [getState, subscribe]);\n    return /*#__PURE__*/(0, _reactJsxRuntime.jsx)(NavigationStateListenerContext.Provider, {\n      value: context,\n      children: children\n    });\n  }\n  var NavigationStateListenerContext = /*#__PURE__*/React.createContext(undefined);\n});","lineCount":82,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13],[7,11,1,13,"_interopNamespace"],[7,29,1,13,"e"],[7,30,1,13],[8,4,1,13],[8,8,1,13,"e"],[8,9,1,13],[8,13,1,13,"e"],[8,14,1,13],[8,15,1,13,"__esModule"],[8,25,1,13],[8,34,1,13,"e"],[8,35,1,13],[9,4,1,13],[9,8,1,13,"n"],[9,9,1,13],[10,4,1,13],[10,8,1,13,"e"],[10,9,1,13],[10,11,1,13,"Object"],[10,17,1,13],[10,18,1,13,"keys"],[10,22,1,13],[10,23,1,13,"e"],[10,24,1,13],[10,26,1,13,"forEach"],[10,33,1,13],[10,44,1,13,"k"],[10,45,1,13],[11,6,1,13],[11,10,1,13,"d"],[11,11,1,13],[11,14,1,13,"Object"],[11,20,1,13],[11,21,1,13,"getOwnPropertyDescriptor"],[11,45,1,13],[11,46,1,13,"e"],[11,47,1,13],[11,49,1,13,"k"],[11,50,1,13],[12,6,1,13,"Object"],[12,12,1,13],[12,13,1,13,"defineProperty"],[12,27,1,13],[12,28,1,13,"n"],[12,29,1,13],[12,31,1,13,"k"],[12,32,1,13],[12,34,1,13,"d"],[12,35,1,13],[12,36,1,13,"get"],[12,39,1,13],[12,42,1,13,"d"],[12,43,1,13],[13,8,1,13,"enumerable"],[13,18,1,13],[14,8,1,13,"get"],[14,11,1,13],[14,22,1,13,"get"],[14,23,1,13],[15,10,1,13],[15,17,1,13,"e"],[15,18,1,13],[15,19,1,13,"k"],[15,20,1,13],[16,8,1,13],[17,6,1,13],[18,4,1,13],[19,4,1,13,"n"],[19,5,1,13],[19,6,1,13,"default"],[19,13,1,13],[19,16,1,13,"e"],[19,17,1,13],[20,4,1,13],[20,11,1,13,"n"],[20,12,1,13],[21,2,1,13],[22,2,1,13],[22,11,1,13,"_interopDefault"],[22,27,1,13,"e"],[22,28,1,13],[23,4,1,13],[23,11,1,13,"e"],[23,12,1,13],[23,16,1,13,"e"],[23,17,1,13],[23,18,1,13,"__esModule"],[23,28,1,13],[23,31,1,13,"e"],[23,32,1,13],[24,6,1,13,"default"],[24,13,1,13],[24,15,1,13,"e"],[25,4,1,13],[26,2,1,13],[27,2,12,0,"exports"],[27,9,12,0],[27,10,12,0,"useNavigationState"],[27,28,12,0],[27,31,12,0,"useNavigationState"],[27,49,12,0],[28,2,22,0,"exports"],[28,9,22,0],[28,10,22,0,"NavigationStateListenerProvider"],[28,41,22,0],[28,44,22,0,"NavigationStateListenerProvider"],[28,75,22,0],[29,2,3,0],[29,6,3,0,"_react"],[29,12,3,0],[29,15,3,0,"require"],[29,22,3,0],[29,23,3,0,"_dependencyMap"],[29,37,3,0],[30,2,3,0],[30,6,3,0,"React"],[30,11,3,0],[30,14,3,0,"_interopNamespace"],[30,31,3,0],[30,32,3,0,"_react"],[30,38,3,0],[31,2,4,0],[31,6,4,0,"_useLatestCallback"],[31,24,4,0],[31,27,4,0,"require"],[31,34,4,0],[31,35,4,0,"_dependencyMap"],[31,49,4,0],[32,2,4,0],[32,6,4,0,"useLatestCallback"],[32,23,4,0],[32,26,4,0,"_interopDefault"],[32,41,4,0],[32,42,4,0,"_useLatestCallback"],[32,60,4,0],[33,2,5,0],[33,6,5,0,"_useSyncExternalStoreWithSelector"],[33,39,5,0],[33,42,5,0,"require"],[33,49,5,0],[33,50,5,0,"_dependencyMap"],[33,64,5,0],[34,2,6,0],[34,6,6,0,"_reactJsxRuntime"],[34,22,6,0],[34,25,6,0,"require"],[34,32,6,0],[34,33,6,0,"_dependencyMap"],[34,47,6,0],[35,2,7,0],[36,0,8,0],[37,0,9,0],[38,0,10,0],[39,0,11,0],[40,2,12,7],[40,11,12,16,"useNavigationState"],[40,29,12,34,"useNavigationState"],[40,30,12,35,"selector"],[40,38,12,43],[40,40,12,45],[41,4,13,2],[41,8,13,8,"stateListener"],[41,21,13,21],[41,24,13,24,"React"],[41,29,13,29],[41,30,13,30,"useContext"],[41,40,13,40],[41,41,13,41,"NavigationStateListenerContext"],[41,71,13,71],[41,72,13,72],[42,4,14,2],[42,8,14,6,"stateListener"],[42,21,14,19],[42,25,14,23],[42,29,14,27],[42,31,14,29],[43,6,15,4],[43,12,15,10],[43,16,15,14,"Error"],[43,21,15,19],[43,22,15,20],[43,96,15,94],[43,97,15,95],[44,4,16,2],[45,4,17,2],[45,8,17,8,"value"],[45,13,17,13],[45,16,17,16],[45,20,17,16,"useSyncExternalStoreWithSelector"],[45,53,17,48],[45,54,17,48,"useSyncExternalStoreWithSelector"],[45,86,17,48],[45,88,17,49,"stateListener"],[45,101,17,62],[45,102,17,63,"subscribe"],[45,111,17,72],[46,4,18,2],[47,4,19,2,"stateListener"],[47,17,19,15],[47,18,19,16,"getState"],[47,26,19,24],[47,28,19,26,"stateListener"],[47,41,19,39],[47,42,19,40,"getState"],[47,50,19,48],[47,52,19,50,"selector"],[47,60,19,58],[47,61,19,59],[48,4,20,2],[48,11,20,9,"value"],[48,16,20,14],[49,2,21,0],[50,2,22,7],[50,11,22,16,"NavigationStateListenerProvider"],[50,42,22,47,"NavigationStateListenerProvider"],[50,43,22,47,"_ref"],[50,47,22,47],[50,49,25,3],[51,4,25,3],[51,8,23,2,"state"],[51,13,23,7],[51,16,23,7,"_ref"],[51,20,23,7],[51,21,23,2,"state"],[51,26,23,7],[52,6,24,2,"children"],[52,14,24,10],[52,17,24,10,"_ref"],[52,21,24,10],[52,22,24,2,"children"],[52,30,24,10],[53,4,26,2],[53,8,26,8,"listeners"],[53,17,26,17],[53,20,26,20,"React"],[53,25,26,25],[53,26,26,26,"useRef"],[53,32,26,32],[53,33,26,33],[53,35,26,35],[53,36,26,36],[54,4,27,2],[54,8,27,8,"getState"],[54,16,27,16],[54,19,27,19],[54,23,27,19,"useLatestCallback"],[54,40,27,36],[54,41,27,36,"default"],[54,48,27,36],[54,50,27,37],[55,6,27,37],[55,13,27,43,"state"],[55,18,27,48],[56,4,27,48],[56,6,27,49],[57,4,28,2],[57,8,28,8,"subscribe"],[57,17,28,17],[57,20,28,20],[57,24,28,20,"useLatestCallback"],[57,41,28,37],[57,42,28,37,"default"],[57,49,28,37],[57,51,28,38],[57,61,28,38,"callback"],[57,69,28,46],[57,71,28,50],[58,6,29,4,"listeners"],[58,15,29,13],[58,16,29,14,"current"],[58,23,29,21],[58,24,29,22,"push"],[58,28,29,26],[58,29,29,27,"callback"],[58,37,29,35],[58,38,29,36],[59,6,30,4],[59,13,30,11],[59,25,30,17],[60,8,31,6,"listeners"],[60,17,31,15],[60,18,31,16,"current"],[60,25,31,23],[60,28,31,26,"listeners"],[60,37,31,35],[60,38,31,36,"current"],[60,45,31,43],[60,46,31,44,"filter"],[60,52,31,50],[60,53,31,51],[60,63,31,51,"cb"],[60,65,31,53],[61,10,31,53],[61,17,31,57,"cb"],[61,19,31,59],[61,24,31,64,"callback"],[61,32,31,72],[62,8,31,72],[62,10,31,73],[63,6,32,4],[63,7,32,5],[64,4,33,2],[64,5,33,3],[64,6,33,4],[65,4,34,2,"React"],[65,9,34,7],[65,10,34,8,"useEffect"],[65,19,34,17],[65,20,34,18],[65,32,34,24],[66,6,35,4,"listeners"],[66,15,35,13],[66,16,35,14,"current"],[66,23,35,21],[66,24,35,22,"forEach"],[66,31,35,29],[66,32,35,30],[66,42,35,30,"callback"],[66,50,35,38],[67,8,35,38],[67,15,35,42,"callback"],[67,23,35,50],[67,24,35,51],[67,25,35,52],[68,6,35,52],[68,8,35,53],[69,4,36,2],[69,5,36,3],[69,7,36,5],[69,8,36,6,"state"],[69,13,36,11],[69,14,36,12],[69,15,36,13],[70,4,37,2],[70,8,37,8,"context"],[70,15,37,15],[70,18,37,18,"React"],[70,23,37,23],[70,24,37,24,"useMemo"],[70,31,37,31],[70,32,37,32],[71,6,37,32],[71,13,37,39],[72,8,38,4,"getState"],[72,16,38,12],[72,18,38,4,"getState"],[72,26,38,12],[73,8,39,4,"subscribe"],[73,17,39,13],[73,19,39,4,"subscribe"],[74,6,40,2],[74,7,40,3],[75,4,40,3],[75,5,40,4],[75,7,40,6],[75,8,40,7,"getState"],[75,16,40,15],[75,18,40,17,"subscribe"],[75,27,40,26],[75,28,40,27],[75,29,40,28],[76,4,41,2],[76,11,41,9],[76,24,41,22],[76,28,41,22,"_jsx"],[76,44,41,26],[76,45,41,26,"jsx"],[76,48,41,26],[76,50,41,27,"NavigationStateListenerContext"],[76,80,41,57],[76,81,41,58,"Provider"],[76,89,41,66],[76,91,41,68],[77,6,42,4,"value"],[77,11,42,9],[77,13,42,11,"context"],[77,20,42,18],[78,6,43,4,"children"],[78,14,43,12],[78,16,43,14,"children"],[79,4,44,2],[79,5,44,3],[79,6,44,4],[80,2,45,0],[81,2,46,0],[81,6,46,6,"NavigationStateListenerContext"],[81,36,46,36],[81,39,46,39],[81,52,46,52,"React"],[81,57,46,57],[81,58,46,58,"createContext"],[81,71,46,71],[81,72,46,72,"undefined"],[81,81,46,81],[81,82,46,82],[82,0,46,83],[82,3]],"functionMap":{"names":["<global>","useNavigationState","NavigationStateListenerProvider","useLatestCallback$argument_0","<anonymous>","listeners.current.filter$argument_0","React.useEffect$argument_0","listeners.current.forEach$argument_0","React.useMemo$argument_0"],"mappings":"AAA;OCW;CDS;OEC;qCCK,WD;sCCC;WCE;mDCC,qBD;KDC;GDC;kBIC;8BCC,sBD;GJC;gCMC;ING;CFK"},"hasCjsExports":false},"type":"js/module"}]}