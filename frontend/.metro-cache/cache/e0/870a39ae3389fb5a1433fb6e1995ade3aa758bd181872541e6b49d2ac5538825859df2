{"dependencies":[{"name":"../debug/logger","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":41,"index":56}}],"key":"02WNxu6F9Gx+3FttubvXKmJxhzc=","exportNames":["*"],"imports":1}},{"name":"../debug/WorkletsError","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":57},"end":{"line":4,"column":55,"index":112}}],"key":"aIJIauIJrhekAnILqKSbMW5GdFY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.bundleValueUnpacker = bundleValueUnpacker;\n  var _debugLogger = require(_dependencyMap[0], \"../debug/logger\");\n  var _debugWorkletsError = require(_dependencyMap[1], \"../debug/WorkletsError\");\n  var handleCache = new WeakMap();\n  function bundleValueUnpacker(objectToUnpack, category, remoteFunctionName) {\n    var workletHash = objectToUnpack.__workletHash;\n    if (workletHash !== undefined) {\n      return getWorklet(workletHash, objectToUnpack.__closure);\n    } else if (objectToUnpack.__init !== undefined) {\n      var value = handleCache.get(objectToUnpack);\n      if (value === undefined) {\n        value = objectToUnpack.__init();\n        handleCache.set(objectToUnpack, value);\n      }\n      return value;\n    } else if (category === 'RemoteFunction') {\n      var remoteFunctionHolder = () => {\n        var label = remoteFunctionName ? `function \\`${remoteFunctionName}\\`` : 'anonymous function';\n        throw new _debugWorkletsError.WorkletsError(`Tried to synchronously call a non-worklet ${label} on the UI thread.\nSee https://docs.swmansion.com/react-native-worklets/docs/guides/troubleshooting#tried-to-synchronously-call-a-non-worklet-function-on-the-ui-thread for more details.`);\n      };\n      remoteFunctionHolder.__remoteFunction = objectToUnpack;\n      return remoteFunctionHolder;\n    } else {\n      throw new _debugWorkletsError.WorkletsError(`Data type in category \"${category}\" not recognized by value unpacker: \"${globalThis._toString(objectToUnpack)}\".`);\n    }\n  }\n  function getWorklet(workletHash, closureVariables) {\n    var worklet;\n    if (__DEV__) {\n      try {\n        worklet = getWorkletFromMetroRequire(workletHash, closureVariables);\n      } catch (_e) {\n        _debugLogger.logger.error('Unable to resolve worklet with hash ' + workletHash + '. Try reloading the app.');\n      }\n    } else {\n      worklet = getWorkletFromMetroRequire(workletHash, closureVariables);\n    }\n    return worklet;\n  }\n  var metroRequire = globalThis.__r;\n  function getWorkletFromMetroRequire(workletHash, closureVariables) {\n    var factory = metroRequire(workletHash).default;\n    return factory(closureVariables);\n  }\n});","lineCount":52,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,9,0,"exports"],[7,9,9,0],[7,10,9,0,"bundleValueUnpacker"],[7,29,9,0],[7,32,9,0,"bundleValueUnpacker"],[7,51,9,0],[8,2,3,0],[8,6,3,0,"_debugLogger"],[8,18,3,0],[8,21,3,0,"require"],[8,28,3,0],[8,29,3,0,"_dependencyMap"],[8,43,3,0],[9,2,4,0],[9,6,4,0,"_debugWorkletsError"],[9,25,4,0],[9,28,4,0,"require"],[9,35,4,0],[9,36,4,0,"_dependencyMap"],[9,50,4,0],[10,2,7,0],[10,6,7,6,"handleCache"],[10,17,7,17],[10,20,7,20],[10,24,7,24,"WeakMap"],[10,31,7,31],[10,32,7,58],[10,33,7,59],[11,2,9,7],[11,11,9,16,"bundleValueUnpacker"],[11,30,9,35,"bundleValueUnpacker"],[11,31,10,2,"objectToUnpack"],[11,45,10,32],[11,47,11,2,"category"],[11,55,11,19],[11,57,12,2,"remoteFunctionName"],[11,75,12,29],[11,77,13,11],[12,4,14,2],[12,8,14,8,"workletHash"],[12,19,14,19],[12,22,14,22,"objectToUnpack"],[12,36,14,36],[12,37,14,37,"__workletHash"],[12,50,14,50],[13,4,15,2],[13,8,15,6,"workletHash"],[13,19,15,17],[13,24,15,22,"undefined"],[13,33,15,31],[13,35,15,33],[14,6,16,4],[14,13,16,11,"getWorklet"],[14,23,16,21],[14,24,16,22,"workletHash"],[14,35,16,33],[14,37,16,35,"objectToUnpack"],[14,51,16,49],[14,52,16,50,"__closure"],[14,61,16,59],[14,62,16,60],[15,4,17,2],[15,5,17,3],[15,11,17,9],[15,15,17,13,"objectToUnpack"],[15,29,17,27],[15,30,17,28,"__init"],[15,36,17,34],[15,41,17,39,"undefined"],[15,50,17,48],[15,52,17,50],[16,6,18,4],[16,10,18,8,"value"],[16,15,18,13],[16,18,18,16,"handleCache"],[16,29,18,27],[16,30,18,28,"get"],[16,33,18,31],[16,34,18,32,"objectToUnpack"],[16,48,18,46],[16,49,18,47],[17,6,19,4],[17,10,19,8,"value"],[17,15,19,13],[17,20,19,18,"undefined"],[17,29,19,27],[17,31,19,29],[18,8,20,6,"value"],[18,13,20,11],[18,16,20,14,"objectToUnpack"],[18,30,20,28],[18,31,20,29,"__init"],[18,37,20,35],[18,38,20,36],[18,39,20,37],[19,8,21,6,"handleCache"],[19,19,21,17],[19,20,21,18,"set"],[19,23,21,21],[19,24,21,22,"objectToUnpack"],[19,38,21,36],[19,40,21,38,"value"],[19,45,21,43],[19,46,21,44],[20,6,22,4],[21,6,23,4],[21,13,23,11,"value"],[21,18,23,16],[22,4,24,2],[22,5,24,3],[22,11,24,9],[22,15,24,13,"category"],[22,23,24,21],[22,28,24,26],[22,44,24,42],[22,46,24,44],[23,6,25,4],[23,10,25,10,"remoteFunctionHolder"],[23,30,25,30],[23,33,25,33,"remoteFunctionHolder"],[23,34,25,33],[23,39,25,39],[24,8,26,6],[24,12,26,12,"label"],[24,17,26,17],[24,20,26,20,"remoteFunctionName"],[24,38,26,38],[24,41,27,10],[24,55,27,24,"remoteFunctionName"],[24,73,27,42],[24,77,27,46],[24,80,28,10],[24,100,28,30],[25,8,29,6],[25,14,29,12],[25,18,29,16,"WorkletsError"],[25,37,29,29],[25,38,29,29,"WorkletsError"],[25,51,29,29],[25,52,29,30],[25,97,29,75,"label"],[25,102,29,80],[26,0,30,0],[26,167,30,167],[26,168,30,168],[27,6,31,4],[27,7,31,5],[28,6,32,4,"remoteFunctionHolder"],[28,26,32,24],[28,27,32,25,"__remoteFunction"],[28,43,32,41],[28,46,32,44,"objectToUnpack"],[28,60,32,58],[29,6,33,4],[29,13,33,11,"remoteFunctionHolder"],[29,33,33,31],[30,4,34,2],[30,5,34,3],[30,11,34,9],[31,6,35,4],[31,12,35,10],[31,16,35,14,"WorkletsError"],[31,35,35,27],[31,36,35,27,"WorkletsError"],[31,49,35,27],[31,50,36,6],[31,76,36,32,"category"],[31,84,36,40],[31,124,36,80,"globalThis"],[31,134,36,90],[31,135,36,91,"_toString"],[31,144,36,100],[31,145,37,8,"objectToUnpack"],[31,159,38,6],[31,160,38,7],[31,164,39,4],[31,165,39,5],[32,4,40,2],[33,2,41,0],[34,2,43,0],[34,11,43,9,"getWorklet"],[34,21,43,19,"getWorklet"],[34,22,44,2,"workletHash"],[34,33,44,21],[34,35,45,2,"closureVariables"],[34,51,45,43],[34,53,46,31],[35,4,47,2],[35,8,47,6,"worklet"],[35,15,47,13],[36,4,48,2],[36,8,48,6,"__DEV__"],[36,15,48,13],[36,17,48,15],[37,6,49,4],[37,10,49,8],[38,8,50,6,"worklet"],[38,15,50,13],[38,18,50,16,"getWorkletFromMetroRequire"],[38,44,50,42],[38,45,50,43,"workletHash"],[38,56,50,54],[38,58,50,56,"closureVariables"],[38,74,50,72],[38,75,50,73],[39,6,51,4],[39,7,51,5],[39,8,51,6],[39,15,51,13,"_e"],[39,17,51,15],[39,19,51,17],[40,8,52,6,"logger"],[40,20,52,12],[40,21,52,12,"logger"],[40,27,52,12],[40,28,52,13,"error"],[40,33,52,18],[40,34,53,8],[40,72,53,46],[40,75,54,10,"workletHash"],[40,86,54,21],[40,89,55,10],[40,115,56,6],[40,116,56,7],[41,6,57,4],[42,4,58,2],[42,5,58,3],[42,11,58,9],[43,6,59,4,"worklet"],[43,13,59,11],[43,16,59,14,"getWorkletFromMetroRequire"],[43,42,59,40],[43,43,59,41,"workletHash"],[43,54,59,52],[43,56,59,54,"closureVariables"],[43,72,59,70],[43,73,59,71],[44,4,60,2],[45,4,61,2],[45,11,61,9,"worklet"],[45,18,61,16],[46,2,62,0],[47,2,64,0],[47,6,64,6,"metroRequire"],[47,18,64,18],[47,21,64,21,"globalThis"],[47,31,64,31],[47,32,64,32,"__r"],[47,35,64,35],[48,2,66,0],[48,11,66,9,"getWorkletFromMetroRequire"],[48,37,66,35,"getWorkletFromMetroRequire"],[48,38,67,2,"workletHash"],[48,49,67,21],[48,51,68,2,"closureVariables"],[48,67,68,43],[48,69,69,19],[49,4,70,2],[49,8,70,8,"factory"],[49,15,70,15],[49,18,70,18,"metroRequire"],[49,30,70,30],[49,31,70,31,"workletHash"],[49,42,70,42],[49,43,70,43],[49,44,70,44,"default"],[49,51,70,69],[50,4,71,2],[50,11,71,9,"factory"],[50,18,71,16],[50,19,71,17,"closureVariables"],[50,35,71,33],[50,36,71,34],[51,2,72,0],[52,0,72,1],[52,3]],"functionMap":{"names":["<global>","bundleValueUnpacker","remoteFunctionHolder","getWorklet","getWorkletFromMetroRequire"],"mappings":"AAA;OCQ;iCCgB;KDM;CDU;AGE;CHmB;AII;CJM"},"hasCjsExports":false},"type":"js/module"}]}